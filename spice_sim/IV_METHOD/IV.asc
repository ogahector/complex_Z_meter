Version 4
SHEET 1 904 748
WIRE 208 240 64 240
WIRE 64 304 64 240
WIRE 96 304 64 304
WIRE 208 320 208 240
WIRE 208 320 160 320
WIRE 272 320 208 320
WIRE 464 320 352 320
WIRE 96 336 -48 336
WIRE 464 368 464 320
WIRE 208 448 64 448
WIRE 208 512 208 448
WIRE 208 512 176 512
WIRE 64 528 64 448
WIRE 64 528 -48 528
WIRE 112 528 64 528
WIRE 272 544 272 320
WIRE 272 544 176 544
WIRE 464 560 464 512
WIRE 208 608 64 608
WIRE 208 672 208 608
WIRE 208 672 176 672
WIRE 64 688 64 608
WIRE 64 688 -48 688
WIRE 112 688 64 688
WIRE 352 704 352 320
WIRE 352 704 176 704
FLAG -272 128 0
FLAG -432 128 0
FLAG -432 48 Vcc
FLAG -272 48 Vin
FLAG 128 352 0
FLAG 128 288 Vcc
FLAG -48 336 Vin
FLAG -16 128 0
FLAG -16 48 Vdac_old
FLAG 464 560 0
FLAG 144 560 0
FLAG 144 496 Vcc
FLAG 144 720 0
FLAG 144 656 Vcc
FLAG -48 528 Vadc1
FLAG -48 688 Vadc2
SYMBOL voltage -432 32 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL voltage -272 32 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=10
SYMATTR InstName Vin
SYMATTR Value ""
SYMBOL OpAmps\\UniversalOpAmp2 128 320 R0
SYMATTR InstName U1
SYMATTR Value2 Avol=Abuf GBW=GBWbuf Slew=SLEWbuf
SYMATTR SpiceLine Ilimit=40m Rail=0 Vos=0
SYMBOL bv -16 32 R0
SYMATTR InstName DAC
SYMATTR Value V={floor(V(VIN)/vrange*nlevels)/nlevels*vrange}
SYMBOL res 368 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R0
SYMATTR Value {R0}
SYMBOL res 448 352 R0
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL OpAmps\\UniversalOpAmp2 144 528 M0
SYMATTR InstName U2
SYMATTR Value2 Avol=Abuf GBW=GBWbuf Slew=SLEWbuf
SYMATTR SpiceLine Ilimit=40m Rail=0 Vos=0
SYMBOL OpAmps\\UniversalOpAmp2 144 688 M0
SYMATTR InstName U3
SYMATTR Value2 Avol=Abuf GBW=GBWbuf Slew=SLEWbuf
SYMATTR SpiceLine Ilimit=40m Rail=0 Vos=0
SYMBOL cap 448 448 R0
SYMATTR InstName C1
SYMATTR Value 1µ
TEXT -552 192 Left 2 !.param Abuf=1Meg
TEXT -552 216 Left 2 !.param GBWbuf 70Meg
TEXT -552 240 Left 2 !.param SLEWbuf 200Meg
TEXT -224 -88 Left 2 !.param vrange 1
TEXT -224 -64 Left 2 !.param nlevels=1028
TEXT -224 -32 Left 2 ;DAC VQUANT 0 V={floor(V(VIN)/vrange*nlevels)/nlevels*vrange}
TEXT -552 424 Left 2 ;.tran 10m
TEXT -552 456 Left 2 !.ac dec 100 1 1Meg
TEXT -552 264 Left 2 !.param R0 1k
TEXT -552 488 Left 2 ;.noise V(vadc2) V1 dec 100 10 1Meg
