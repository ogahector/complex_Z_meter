Version 4
SHEET 1 1824 680
WIRE 448 0 208 0
WIRE 592 0 448 0
WIRE 448 48 448 0
WIRE 448 48 384 48
WIRE 512 48 448 48
WIRE 512 80 512 48
WIRE 208 96 208 0
WIRE 384 96 384 48
WIRE 384 208 384 160
WIRE 448 208 384 208
WIRE 512 208 512 160
WIRE 512 208 448 208
WIRE 448 256 448 208
WIRE 208 288 208 176
WIRE -672 304 -672 256
WIRE -672 416 -672 384
FLAG 592 0 Vdac
IOPIN 592 0 Out
FLAG 448 256 0
FLAG 208 288 0
FLAG -672 256 Vin
FLAG -672 416 0
SYMBOL bv 208 80 M0
SYMATTR InstName B1
SYMATTR Value V={(floor((V(Vin)/vrange_in)*nlevels)/nlevels)*vrange_out_max+vrange_out_min}
SYMBOL cap 368 96 R0
SYMATTR InstName C1
SYMATTR Value 50p
SYMBOL res 496 176 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 15k
SYMBOL voltage -672 288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PWL file="C:\Users\rolando\OneDrive - Imperial College London\EE3\Instrumentation\Coursework 2\complex_Z_meter\spice_sim\scripts\vin_step_waveform.txt"
TEXT -848 24 Left 2 !.param nlevels 4096
TEXT -848 56 Left 2 !.param vrange_in 40.96
TEXT 208 -80 Left 2 ;LP to model step response
TEXT -840 -32 Left 2 !.tran 0 55m 0
TEXT -848 128 Left 2 !.param vrange_out_max Vdda-vrange_out_min-0.2
TEXT -848 96 Left 2 !.param vrange_out_min 0.2
TEXT -472 -136 Left 2 !.param Vdda 3.3
